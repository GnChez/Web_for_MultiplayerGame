import{_ as d,q as f,am as h,ar as v,r as m,o as c,h as b,w as s,f as e,V as U,x as V,v as u,y as g,k as t,j as C}from"./index-e88319c5.js";import{V as x,a as y,b as R}from"./VCard-d0cfe52d.js";import{V as B}from"./VForm-88c6a54a.js";import{V as F}from"./VTextField-4daea313.js";import"./form-200eb6bd.js";const S={name:"ChangeUsernameForm",setup(){return{appStore:f()}},data(){return{verified:null,username:"",password:"",loading:!1,usernameRules:[]}},methods:{async verifyUsername(){if(this.username==""||this.username==null){this.verified=!1,this.usernameRules=["Username cannot be empty"];return}h(this.username).then(a=>{a?(this.verified=!0,this.usernameRules=[]):(this.verified=!1,this.usernameRules=["Username being used"])})},updateUsername(){v(this.appStore.getLoginInfo.data,this.username).then(()=>{this.appStore.setUsername(this.username),this.$router.push("/profile")})}}},k=t("br",null,null,-1),A=t("p",{class:"secondfont"},[u(" Before changing your username, first verify"),t("br"),u("it is available ")],-1),E=t("br",null,null,-1),N=t("br",null,null,-1),$=t("br",null,null,-1),w=t("br",null,null,-1);function I(a,r,_,p,n,o){const l=m("v-content");return c(),b(l,null,{default:s(()=>[e(g,{fluid:"","fill-height":""},{default:s(()=>[e(U,{class:"centered"},{default:s(()=>[e(x,{class:"elevation-12 centered",style:{"padding-bottom":"10px"}},{default:s(()=>[k,e(y,null,{default:s(()=>[A,E,N,$,e(B,null,{default:s(()=>[e(F,{class:"secondfont",modelValue:n.username,"onUpdate:modelValue":r[0]||(r[0]=i=>n.username=i),name:"username",label:"NEW USERNAME",type:"text",color:n.verified===null?"":n.verified?"green":"red",rules:n.usernameRules,onInput:o.verifyUsername},null,8,["modelValue","color","rules","onInput"])]),_:1})]),_:1}),e(R,{class:"centered"},{default:s(()=>[e(V,{class:"enter-button centered",disabled:!n.verified,onClick:r[1]||(r[1]=i=>o.updateUsername())},{default:s(()=>[u("UPDATE")]),_:1},8,["disabled"])]),_:1}),w]),_:1})]),_:1})]),_:1})]),_:1})}const T=d(S,[["render",I]]);const j={components:{ChangeUsernameForm:T},data(){return{}},methods:{}},q={class:"container"};function D(a,r,_,p,n,o){const l=m("ChangeUsernameForm");return c(),C("div",q,[e(l)])}const G=d(j,[["render",D],["__scopeId","data-v-be2376bc"]]);export{G as default};
